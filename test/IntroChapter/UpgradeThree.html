<body>
<script>
  class UpgradeThree extends HTMLElement {
    constructor() {
      super();
      console.log("UpgradeThree constructor");
      this.attachShadow({mode: "open"});
      this.shadowRoot.innerHTML = "<slot></slot><span></span>";
      this.shadowRoot.addEventListener("slotchange", function(){
        console.log("UpgradeThree slotchange");
      })
    }

    static get observedAttributes() {
      console.log("UpgradeThree observedAttributes");
      return ["punctuation"];
    }

    attributeChangedCallback(name, oldValue, newValue) {
      console.log("UpgradeThree attributesChangedCallback");
      if (name === "punctuation") {
        this.shadowRoot.querySelector("span").innerText = newValue;
      }
    }

    connectedCallback() {
      console.log("UpgradeThree connectedCallback");
    }
  }

  console.log("App start");
  customElements.define("upgrade-three", UpgradeThree);
  console.log("App upgrade-two defined");
</script>
<template>
  <upgrade-three punctuation=")">hello sweden</upgrade-three>
</template>
<script>
  console.log("App before cloning upgrade-three");
  var template = document.querySelector("template").content;
  var clone = template.cloneNode(true);
  console.log("App after cloning upgrade-three");
  console.log("App before appending upgrade-three");
  document.querySelector("body").appendChild(clone);
  console.log("App after appending upgrade-three");
</script>
</body>